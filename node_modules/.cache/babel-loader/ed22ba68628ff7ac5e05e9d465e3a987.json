{"ast":null,"code":"import _classCallCheck from\"/Users/chaowu/Desktop/CS349/tictactoe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/chaowu/Desktop/CS349/tictactoe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/chaowu/Desktop/CS349/tictactoe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/chaowu/Desktop/CS349/tictactoe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import'./App.css';import React from'react';var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={rows:6,columns:7,moves:[],playerTurn:'red'};_this.resetBoard=function(){_this.setState({moves:[],winner:null});};_this.getPiece=function(x,y){var list=_this.state.moves.filter(function(item){return item.x===x&&item.y===y;});return list[0];};_this.isWinner=function(x,y){var _this$state=_this.state,winner=_this$state.winner,winningMoves=_this$state.winningMoves;if(!winner){return false;}return winningMoves.some(function(item){return item.x===x&&item.y===y;});};_this.checkWinner=function(x,y,player){//check vertically\nvar winningMoves=[{x:x,y:y}];for(var column=x+1;column<x+4;column+=1){var checkPiece=_this.getPiece(column,y);if(checkPiece&&checkPiece.player===player){winningMoves.push({x:column,y:y});}else{break;}}for(var _column=x-1;_column>x-4;_column-=1){var _checkPiece=_this.getPiece(_column,y);if(_checkPiece&&_checkPiece.player===player){winningMoves.push({x:_column,y:y});}else{break;}}if(winningMoves.length>3){console.log('winner',winningMoves);_this.setState({winner:player,winningMoves:winningMoves});return true;}//check horizontally\nwinningMoves=[{x:x,y:y}];for(var row=y+1;row<y+4;row+=1){var _checkPiece2=_this.getPiece(x,row);if(_checkPiece2&&_checkPiece2.player===player){winningMoves.push({x:x,y:row});}else{break;}}for(var _row=y-1;_row>y-4;_row-=1){var _checkPiece3=_this.getPiece(x,_row);if(_checkPiece3&&_checkPiece3.player===player){winningMoves.push({x:x,y:_row});}else{break;}}if(winningMoves.length>3){console.log('winner',winningMoves);_this.setState({winner:player,winningMoves:winningMoves});return true;}//check diagnalleft\nwinningMoves=[{x:x,y:y}];for(var i=1;i<4;i+=1){var _checkPiece4=_this.getPiece(x+i,y+i);if(_checkPiece4&&_checkPiece4.player===player){winningMoves.push({x:x+i,y:y+i});}else{break;}}for(var _i=1;_i<4;_i+=1){var _checkPiece5=_this.getPiece(x-_i,y-_i);if(_checkPiece5&&_checkPiece5.player===player){winningMoves.push({x:x-_i,y:y-_i});}else{break;}}if(winningMoves.length>3){console.log('winner',winningMoves);_this.setState({winner:player,winningMoves:winningMoves});return true;}//check diagnalright\nwinningMoves=[{x:x,y:y}];for(var _i2=1;_i2<4;_i2+=1){var _checkPiece6=_this.getPiece(x-_i2,y+_i2);if(_checkPiece6&&_checkPiece6.player===player){winningMoves.push({x:x-_i2,y:y+_i2});}else{break;}}for(var _i3=1;_i3<4;_i3+=1){var _checkPiece7=_this.getPiece(x+_i3,y-_i3);if(_checkPiece7&&_checkPiece7.player===player){winningMoves.push({x:x+_i3,y:y-_i3});}else{break;}}if(winningMoves.length>3){console.log('winner',winningMoves);_this.setState({winner:player,winningMoves:winningMoves});return true;}};_this.addMove=function(x,y){var playerTurn=_this.state.playerTurn;var nextPlayerTurn=playerTurn==='red'?'blue':'red';//check for winner, based on the next move\n_this.setState({moves:_this.state.moves.concat({x:x,y:y,player:playerTurn}),playerTurn:nextPlayerTurn},function(){return _this.checkWinner(x,y,playerTurn);});};return _this;}_createClass(App,[{key:\"renderBoard\",value:function renderBoard(){var _this2=this;var _this$state2=this.state,rows=_this$state2.rows,columns=_this$state2.columns,winner=_this$state2.winner;var rowsDisplay=[];var _loop=function _loop(row){var columnDisplay=[];var _loop2=function _loop2(column){var piece=_this2.getPiece(column,row);var winner=_this2.isWinner(column,row);columnDisplay.push(/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){_this2.addMove(column,row);},style:{width:'8vw',height:'8vw',backgroundColor:winner?'pink':'yellow',boxShadow:winner?'0px 0px 10px #fff':undefined,display:'flex',padding:5,cursor:'pointer'},children:/*#__PURE__*/_jsx(\"div\",{style:{borderRadius:'10%',backgroundColor:'white',flex:1,display:'flex'},children:piece?/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:piece.player,flex:1,borderRadius:'50%',border:'1px solid #333'}}):undefined})}));};for(var column=0;column<_this2.state.columns;column+=1){_loop2(column);}rowsDisplay.push(/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'row'},children:columnDisplay}));};for(var row=0;row<this.state.rows;row+=1){_loop(row);}return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'white',display:'flex',flexDirection:'column'},children:[winner&&/*#__PURE__*/_jsx(\"div\",{onClick:this.resetBoard,style:{position:'absolute',left:0,right:0,bottom:0,top:0,zIndex:3,backgroundColor:'rgba(0,0,0, .5)',display:'flex',justifyContent:'center',alignContent:'center',color:'#fff',fontWeight:'200',fontSize:'8vw'},children:\"\".concat(winner.toUpperCase(),\" WINS!!\")}),rowsDisplay]});}},{key:\"render\",value:function render(){var style=this.props.style;return/*#__PURE__*/_jsx(\"div\",{style:style?Object.assign({},styles.container,style):styles.container,children:/*#__PURE__*/_jsxs(\"div\",{children:[this.renderBoard(),/*#__PURE__*/_jsx(\"button\",{onClick:this.resetBoard,children:\"Clear Board\"})]})});}}]);return App;}(React.Component);export{App as default};var styles={container:{height:'100%',padding:5,display:'flex',justifyContent:'center',alignItems:'center'}};","map":{"version":3,"sources":["/Users/chaowu/Desktop/CS349/tictactoe/src/App.js"],"names":["React","App","state","rows","columns","moves","playerTurn","resetBoard","setState","winner","getPiece","x","y","list","filter","item","isWinner","winningMoves","some","checkWinner","player","column","checkPiece","push","length","console","log","row","i","addMove","nextPlayerTurn","concat","rowsDisplay","columnDisplay","piece","width","height","backgroundColor","boxShadow","undefined","display","padding","cursor","borderRadius","flex","border","flexDirection","position","left","right","bottom","top","zIndex","justifyContent","alignContent","color","fontWeight","fontSize","toUpperCase","style","props","Object","assign","styles","container","renderBoard","Component","alignItems"],"mappings":"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","sourcesContent":["import './App.css'\nimport React from 'react';\n\nexport default class App extends React.Component{\n  state = {\n    rows:6,\n    columns:7,\n    moves:[],\n    playerTurn:'red',\n  };\n\n  resetBoard = ()=>{\n    this.setState({moves:[], winner:null});\n\n  }\n\n  getPiece = (x,y)=>{\n    const list = this.state.moves.filter((item)=>{\n      return (item.x===x && item.y===y);\n    });\n    return list[0];\n  }\n\n  isWinner = (x,y)=>{\n    const {winner, winningMoves} = this.state;\n    if(!winner){\n      return false;\n    }\n    return winningMoves.some(item=>(item.x===x && item.y===y));\n  }\n\n  checkWinner = (x, y, player)=>{\n    //check vertically\n    let winningMoves=[{x,y}];\n    for(let column = x+1; column<x+4; column+=1){\n      const checkPiece = this.getPiece(column, y);\n      if(checkPiece && checkPiece.player === player){\n        winningMoves.push({x:column, y:y});\n      }else{\n        break;\n      }\n    }\n    for(let column = x-1; column>x-4; column-=1){\n      const checkPiece = this.getPiece(column, y);\n      if(checkPiece && checkPiece.player ===player){\n        winningMoves.push({x:column, y:y});\n      }else{\n        break;\n      }\n    }\n\n    if(winningMoves.length>3){\n      console.log('winner',winningMoves)\n      this.setState({winner:player, winningMoves});\n      return true;\n    }\n\n    //check horizontally\n    winningMoves=[{x,y}];\n    for(let row = y+1; row<y+4; row+=1){\n      const checkPiece = this.getPiece(x, row);\n      if(checkPiece && checkPiece.player ===player){\n        winningMoves.push({x:x, y:row});\n      }else{\n        break;\n      }\n    }\n\n    for(let row = y-1; row>y-4; row-=1){\n      const checkPiece = this.getPiece(x,row);\n      if(checkPiece && checkPiece.player ===player){\n        winningMoves.push({x:x, y:row});\n      }else{\n        break;\n      }\n    }\n\n    if(winningMoves.length>3){\n      console.log('winner',winningMoves)\n      this.setState({winner:player, winningMoves});\n      return true;\n    }\n\n    //check diagnalleft\n    winningMoves=[{x,y}];\n    for(let i = 1; i<4; i+=1){\n      const checkPiece = this.getPiece(x+i, y+i);\n      if(checkPiece && checkPiece.player ===player){\n        winningMoves.push({x:x+i, y:y+i});\n      }else{\n        break;\n      }\n    }\n\n    for(let i = 1; i<4; i+=1){\n      const checkPiece = this.getPiece(x-i,y-i);\n      if(checkPiece && checkPiece.player ===player){\n        winningMoves.push({x:x-i, y:y-i});\n      }else{\n        break;\n      }\n    }\n\n    if(winningMoves.length>3){\n      console.log('winner',winningMoves)\n      this.setState({winner:player, winningMoves});\n      return true;\n    }\n\n    //check diagnalright\n    winningMoves=[{x,y}];\n    for(let i = 1; i<4; i+=1){\n      const checkPiece = this.getPiece(x-i, y+i);\n      if(checkPiece && checkPiece.player ===player){\n        winningMoves.push({x:x-i, y:y+i});\n      }else{\n        break;\n      }\n    }\n\n    for(let i = 1; i<4; i+=1){\n      const checkPiece = this.getPiece(x+i,y-i);\n      if(checkPiece && checkPiece.player ===player){\n        winningMoves.push({x:x+i, y:y-i});\n      }else{\n        break;\n      }\n    }\n\n    if(winningMoves.length>3){\n      console.log('winner',winningMoves)\n      this.setState({winner:player, winningMoves});\n      return true;\n    }\n  }\n\n  addMove = (x,y)=>{\n    const{playerTurn}= this.state;\n    const nextPlayerTurn = playerTurn === 'red' ? 'blue' : 'red';\n    //check for winner, based on the next move\n    this.setState({moves:this.state.moves.concat({x, y, player:playerTurn}), playerTurn:nextPlayerTurn},()=> this.checkWinner(x,y, playerTurn));\n  }\n\n\n  renderBoard(){\n    const {rows, columns, winner}= this.state;\n    const rowsDisplay = [];\n\n    for(let row=0; row<this.state.rows; row+=1){\n      const columnDisplay = [];\n      for(let column=0; column<this.state.columns; column+=1){\n        const piece = this.getPiece(column,row);\n        const winner= this.isWinner(column, row);\n        columnDisplay.push(\n          <div onClick={()=>{this.addMove(column, row)}} style={{width:'8vw', height:'8vw', backgroundColor: winner? 'pink':'yellow', boxShadow: winner?'0px 0px 10px #fff':undefined, \n          display:'flex', padding: 5, cursor:'pointer'}}>\n            <div style={{borderRadius:'10%', backgroundColor:'white', flex:1, display:'flex'}}>\n              {piece? <div style={{backgroundColor: piece.player, flex:1, borderRadius:'50%', border:'1px solid #333'}}/>:undefined}\n            </div>\n          </div>\n        );\n      }\n      rowsDisplay.push(\n      <div style={{display:'flex', flexDirection:'row'}}>{columnDisplay}</div>\n      );\n    }\n\n    return(\n      <div style={{backgroundColor: 'white', display:'flex', flexDirection:'column'}}>\n        {winner && <div onClick={this.resetBoard} style={{position:'absolute',left:0,right:0,bottom:0,top:0, zIndex:3, backgroundColor:'rgba(0,0,0, .5)',\n      display:'flex', justifyContent:'center', alignContent:'center', color:'#fff', fontWeight:'200', fontSize:'8vw' }}>{`${winner.toUpperCase()} WINS!!`}</div>}\n        {rowsDisplay}\n      </div>\n    );\n  }\n\n\n  render(){\n    const {style} = this.props;\n\n    return (\n      <div style={style ? Object.assign({}, styles.container, style):styles.container}>\n        <div>\n          {this.renderBoard()}\n          <button onClick={this.resetBoard}>Clear Board</button>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst styles = {\n  container:{\n    height:'100%',\n    padding:5,\n    display:'flex',\n    justifyContent:'center',\n    alignItems:'center'\n  }\n}"]},"metadata":{},"sourceType":"module"}